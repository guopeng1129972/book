# nodejs-note
 Node.js 应用开发实战
 
拉钩教育
清弦  高级前端开发工程师，跨端平台研发团队负责人


## Node.js 在前端工程化和后端服务应用的区别？

![差异点](/img/1.jpg)

### 1. 运行环境
>- 前端应用（webpack）
工程化的大部分情况都是基于当前开发环境，运行在本地开发机器上。
>- node
而后端服务应用一般运行在远程服务器上。

>- Node.js 的服务其实也是一样的：
运行在本地的服务，你可以快速地判断定位、分析、解决问题；
但是在远程的服务，你需要利用一些工具来分析判断或者监控其运行情况。
>- 那因为环境上的差异，会引发什么不同点呢：
首先我们需要应用工具将服务发布到远程机器上，这里就涉及`devops 工具`；
我们需要保证远程服务的安全与稳定，这就涉及一些进程管理工具，例如我们常见的 `PM2`；
我们需要判断远程服务运行是否正常，这就涉及远程服务的`监控和告警机制`；
遇到运行问题时，我们需要通过远程日志来定位分析问题，这就涉及`日志打印和跟踪染色`。

### 2. 受众群体
>- 前端应用（webpack）
前端工程化一般都是服务于开发者，
比如我自己在本地应用 Webpack 打包或者将 ES6、ES7 转为 ES5 语法等，
都是基于开发者工具，而这部分用户则是我们开发者自己。
>- node
而后端服务应用则服务于真实的用户群体，为用户提供各种交互体验方面的数据处理等。

后端服务应用则必须关注服务的稳定与安全。
因为都是基于用户发送的内容，用户有时候发送一些非法或者违法的内容。
其次需要关注并发性能，因此必须充分考量服务器所能承载的最大用户并发数，
在并发即将达到阈值时，又需要考量平行扩容方案。
还有就是为了用户体验，需要充分做好服务的性能优化，做到极致的接口响应时间。

### 3. 问题调试
>- 前端应用（webpack）
因为前端工程化在本地运行，你可以随意地 console.log 打印日志进行调试，
因为这些影响的也只是个人，或者说即使变成通用的工具，打印一些 console.log 也对工具的影响不大。
>- node
但是在后端服务应用时，你就需要考虑一些方法来进行问题调试和定位策略了。

你需要在每个业务场景中，思考在哪里进行一些关键逻辑或者数据打印日志信息，
这里就需要 `Node.js 日志服务模块`，
而这类日志服务又不能影响性能，因此需要考虑一些高性能日志打印工具。
其次在服务端运行，你可能会遇到诸如`内存泄漏、句柄泄漏或者进程异常退出`等问题，
因此这里就需要这类工具和方法来分析定位现网问题。

### 总结
区别：应用的场景不一样
一个是前端工程化的应用，另外一个是后端服务应用。
前者着重于开发效率的提升和研发质量的保证，
`后者则是真正发挥出了 Node.js 的异步驱动特性`。
因为异步驱动特性，在主线程不被 CPU 密集型所影响时，
可以真正发挥出 Node.js 高并发特性，可以作为大部分网络 I/O 较高的后端服务。